webpackJsonp([3],{"2YS7":function(t,e,i){"use strict";i.d(e,"a",function(){return n}),i.d(e,"b",function(){return s});var n="city/mutaCurrentCity",s="city/updateCurrentCity"},"7R+1":function(t,e){},"9n10":function(t,e){},IgJk:function(t,e){},M6Sr:function(t,e){},"N+zL":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{class:this.slideClass},[this._t("default")],2)},staticRenderFns:[]},s=i("VU/8")({name:"swiper-slide",data:function(){return{slideClass:"swiper-slide"}},ready:function(){this.update()},mounted:function(){this.update(),this.$parent.options.slideClass&&(this.slideClass=this.$parent.options.slideClass)},updated:function(){this.update()},attached:function(){this.update()},methods:{update:function(){this.$parent&&this.$parent.swiper&&this.$parent.swiper.update&&(this.$parent.swiper.update(!0),this.$parent.options.loop&&this.$parent.swiper.reLoop())}}},n,!1,null,null,null);e.default=s.exports},NHnr:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i("7+uW"),s={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("keep-alive",[this.$route.meta.keepAlive?e("router-view"):this._e()],1),this._v(" "),this.$route.meta.keepAlive?this._e():e("router-view")],1)},staticRenderFns:[]};var r=i("VU/8")({name:"App"},s,!1,function(t){i("7R+1")},null,null).exports,a=i("/ocq"),o=i("Dd8w"),c=i.n(o),u=i("Xxa5"),l=i.n(u),p=i("exGp"),d=i.n(p),h=i("NYxO"),f=i("mvHQ"),m=i.n(f),v=i("NjrX"),g=i("0FxO"),_=(Array,String,Boolean,Boolean,String,String,Boolean,Boolean,Number,Number,Number,String,Number,Number,Number,{name:"swiper",created:function(){this.index=this.value||0,this.index&&(this.current=this.index)},mounted:function(){var t=this;this.hasTwoLoopItem(),this.$nextTick(function(){t.list&&0===t.list.length||t.render(t.index),t.xheight=t.getHeight(),t.$emit("on-get-height",t.xheight)})},methods:{hasTwoLoopItem:function(){2===this.list.length&&this.loop?this.listTwoLoopItem=this.list:this.listTwoLoopItem=[]},clickListItem:function(t){Object(g.a)(t.url,this.$router),this.$emit("on-click-list-item",JSON.parse(m()(t)))},buildBackgroundUrl:function(t){return t.fallbackImg?"url("+t.img+"), url("+t.fallbackImg+")":"url("+t.img+")"},render:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.swiper&&this.swiper.destroy(),this.swiper=new v.a({container:this.$el,direction:this.direction,auto:this.auto,loop:this.loop,interval:this.interval,threshold:this.threshold,duration:this.duration,height:this.height||this._height,minMovingDistance:this.minMovingDistance,imgList:this.imgList}).on("swiped",function(e,i){t.current=i%t.length,t.index=i%t.length}),e>0&&this.swiper.go(e)},rerender:function(){var t=this;this.$el&&!this.hasRender&&(this.hasRender=!0,this.hasTwoLoopItem(),this.$nextTick(function(){t.index=t.value||0,t.current=t.value||0,t.length=t.list.length||t.$children.length,t.destroy(),t.render(t.value)}))},destroy:function(){this.hasRender=!1,this.swiper&&this.swiper.destroy()},getHeight:function(){var t=parseInt(this.height,10);return t?this.height:t?void 0:this.aspectRatio?this.$el.offsetWidth*this.aspectRatio+"px":"180px"}},props:{list:{type:Array,default:function(){return[]}},direction:{type:String,default:"horizontal"},showDots:{type:Boolean,default:!0},showDescMask:{type:Boolean,default:!0},dotsPosition:{type:String,default:"right"},dotsClass:String,auto:Boolean,loop:Boolean,interval:{type:Number,default:3e3},threshold:{type:Number,default:50},duration:{type:Number,default:300},height:{type:String,default:"auto"},aspectRatio:Number,minMovingDistance:{type:Number,default:0},value:{type:Number,default:0}},data:function(){return{hasRender:!1,current:this.index||0,xheight:"auto",length:this.list.length,index:0,listTwoLoopItem:[]}},watch:{auto:function(t){t?this.swiper&&this.swiper._auto():this.swiper&&this.swiper.stop()},list:function(t,e){m()(t)!==m()(e)&&this.rerender()},current:function(t){this.index=t,this.$emit("on-index-change",t)},index:function(t){var e=this;t!==this.current&&this.$nextTick(function(){e.swiper&&e.swiper.go(t)}),this.$emit("input",t)},value:function(t){this.index=t}},beforeDestroy:function(){this.destroy()}}),w={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"vux-slider"},[i("div",{staticClass:"vux-swiper",style:{height:t.xheight}},[t._t("default"),t._v(" "),t._l(t.list,function(e,n){return i("div",{staticClass:"vux-swiper-item",attrs:{"data-index":n},on:{click:function(i){return t.clickListItem(e)}}},[i("a",{attrs:{href:"javascript:"}},[i("div",{staticClass:"vux-img",style:{backgroundImage:t.buildBackgroundUrl(e)}}),t._v(" "),t.showDescMask?i("p",{staticClass:"vux-swiper-desc"},[t._v(t._s(e.title))]):t._e()])])}),t._v(" "),t._l(t.listTwoLoopItem,function(e,n){return t.listTwoLoopItem.length>0?i("div",{staticClass:"vux-swiper-item vux-swiper-item-clone",attrs:{"data-index":n},on:{click:function(i){return t.clickListItem(e)}}},[i("a",{attrs:{href:"javascript:"}},[i("div",{staticClass:"vux-img",style:{backgroundImage:t.buildBackgroundUrl(e)}}),t._v(" "),t.showDescMask?i("p",{staticClass:"vux-swiper-desc"},[t._v(t._s(e.title))]):t._e()])]):t._e()})],2),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.showDots,expression:"showDots"}],class:[t.dotsClass,"vux-indicator","vux-indicator-"+t.dotsPosition]},t._l(t.length,function(e){return i("a",{attrs:{href:"javascript:"}},[i("i",{staticClass:"vux-icon-dot",class:{active:e-1===t.current}})])}),0)])},staticRenderFns:[]};var y=i("VU/8")(_,w,!1,function(t){i("ov1N")},null,null).exports,C=i("PMrq"),x=["http://mp-piao-admincp.qunarzz.com/mp_piao_admin_mp_piao_admin/admin/20193/87a224d0349d94a11e97f31aa1aba4f5.jpg_750x200_1f78af87.jpg","http://mp-piao-admincp.qunarzz.com/mp_piao_admin_mp_piao_admin/admin/20193/d7bbc21db442366a882e04ddc984669a.jpg_750x200_85e640d9.jpg","http://mp-piao-admincp.qunarzz.com/mp_piao_admin_mp_piao_admin/admin/20198/507e5e117c000e575f3987fcde8b6aba.jpg_750x200_fb0a1e1a.jpg"],b=(String,{props:{city:{type:String,default:"请选择"}}}),k={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"home-header"},[t._m(0),t._v(" "),i("div",{staticClass:"right-area",on:{click:function(e){return t.$emit("on-click")}}},[i("p",{staticClass:"location"},[t._v(t._s(t.city))]),t._v(" "),i("i",{staticClass:"iconfont down-triangle"})])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"search-bar"},[e("i",{staticClass:"iconfont search"}),this._v(" "),e("p",{staticClass:"input-placeholder"},[this._v("输入城市/景点/游玩主题")])])}]};var S=i("VU/8")(b,k,!1,function(t){i("i59S")},"data-v-542f765c",null).exports,$=(Array,{props:{iconList:{type:Array,required:!0}},data:function(){return{swiperOption:{pagination:".swiper-pagination",paginationClickable:!0,observeParents:!0}}},computed:{swiperList:function(){var t=[];return this.iconList.forEach(function(e,i){var n=Math.floor(i/8);t[n]||(t[n]=[]),t[n].push(e)}),console.log("pages,",t),t}},mounted:function(){}}),L={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"icon-area"},[i("swiper",{attrs:{options:t.swiperOption}},[t._l(t.swiperList,function(e,n){return i("swiper-slide",{key:n},[i("ul",{staticClass:"icons"},t._l(e,function(e){return i("li",{key:e.id,staticClass:"icon-wrapper"},[i("div",{staticClass:"icon"},[i("img",{attrs:{src:e.imgUrl,alt:""}})]),t._v(" "),i("p",{staticClass:"text"},[t._v(t._s(e.desc))])])}),0)])}),t._v(" "),i("div",{staticClass:"swiper-pagination",attrs:{slot:"pagination"},slot:"pagination"})],2)],1)},staticRenderFns:[]};var j=i("VU/8")($,L,!1,function(t){i("qKQD"),i("IgJk")},"data-v-2f7735bc",null).exports,N=(String,{props:{title:{type:String,required:!0}}}),I={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"category-box"},[e("div",{staticClass:"category-box-header"},[this._v("\n    "+this._s(this.title)+"\n  ")]),this._v(" "),e("div",{staticClass:"category-box-container"},[this._t("default")],2)])},staticRenderFns:[]};var q=i("VU/8")(N,I,!1,function(t){i("Xz1o")},"data-v-23a2dfb6",null).exports,D=(String,String,String,{props:{imgUrl:{type:String,required:!0},title:{type:String,required:!0},desc:{type:String,required:!0}}}),T={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"recommend-item"},[i("div",{staticClass:"item-cover-wrapper"},[i("div",{staticClass:"item-cover"},[i("img",{attrs:{src:t.imgUrl,alt:""}})])]),t._v(" "),i("div",{staticClass:"item-container"},[i("p",{staticClass:"title"},[t._v(t._s(t.title))]),t._v(" "),i("p",{staticClass:"description"},[t._v(t._s(t.desc))]),t._v(" "),i("p",{staticClass:"detail-btn",on:{click:function(e){return t.$emit("on-go-to-detail")}}},[t._v("查看详情")])])])},staticRenderFns:[]};var O=i("VU/8")(D,T,!1,function(t){i("q2gc")},"data-v-ebe2c66e",null).exports,R=(String,String,String,{props:{imgUrl:{type:String,required:!0},title:{type:String,required:!0},desc:{type:String,required:!0}}}),M={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"hot-sale"},[i("div",{staticClass:"cover-wrapper"},[i("div",{staticClass:"cover-img"},[i("img",{attrs:{src:t.imgUrl,alt:""}})])]),t._v(" "),i("div",{staticClass:"hot-sale-container"},[i("p",{staticClass:"title"},[t._v(t._s(t.title))]),t._v(" "),i("p",{staticClass:"description"},[t._v(t._s(t.desc))])])])},staticRenderFns:[]};var U=i("VU/8")(R,M,!1,function(t){i("zZ8H")},"data-v-5fde64d1",null).exports,z=(x.map(function(t,e){return{url:"javascript:",img:t}}),c()({},Object(h.c)(["currentCity"])),x.map(function(t,e){return{url:"javascript:",img:t}})),B={components:{Swiper:y,HomeHeader:S,IconArea:j,CategoryBox:q,RecommendItem:O,HotSale:U},data:function(){return{lastCity:"",swiperImgs:z,iconList:[],recommendList:[],swiperList:[],weekendList:[]}},methods:{getHomeData:function(){var t=this;return d()(l.a.mark(function e(){var i,n,s,r,a,o;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(C.a)({url:"/api/index.json",method:"get",params:{city:t.currentCity}});case 2:i=e.sent,n=i.data,s=n.iconList,r=n.recommendList,a=n.swiperList,o=n.weekendList,t.swiperList=a.map(function(t){return t.img=t.imgUrl,t.url="javascript:",t}),t.iconList=s,t.recommendList=r,t.weekendList=o;case 8:case"end":return e.stop()}},e,t)}))()},handleGotoDetail:function(t){this.$router.push({name:"Detail",params:{id:t}})}},computed:c()({},Object(h.c)(["currentCity"])),activated:function(){this.lastCity!==this.currentCity&&(this.lastCity=this.currentCity,this.getHomeData())},mounted:function(){this.lastCity=this.currentCity,this.getHomeData()}},F={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"home-wrapper"},[i("home-header",{attrs:{city:t.currentCity},on:{"on-click":function(e){return t.$router.push("/city")}}}),t._v(" "),i("swiper",{staticStyle:{width:"100%"},attrs:{list:t.swiperList,auto:"",loop:"",height:"100px","dots-position":"center","dots-class":"dots","aspect-ratio":37.5}}),t._v(" "),i("icon-area",{attrs:{iconList:t.iconList}}),t._v(" "),i("category-box",{staticClass:"mt20",attrs:{title:"热门推荐"}},[t._l(t.recommendList,function(e){return[i("recommend-item",t._b({key:e.id,on:{"on-go-to-detail":function(i){return t.handleGotoDetail(e.id)}}},"recommend-item",e,!1))]})],2),t._v(" "),i("category-box",{staticClass:"mt20",attrs:{title:"周末旅游"}},[t._l(t.weekendList,function(e){return[i("hot-sale",t._b({key:e.id},"hot-sale",e,!1))]})],2)],1)},staticRenderFns:[]};var H=i("VU/8")(B,F,!1,function(t){i("XWZO")},"data-v-8aafece6",null).exports;n.a.use(a.a);var A=new a.a({routes:[{path:"/",name:"Home",component:H,meta:{keepAlive:!0}},{path:"/city",name:"City",component:function(){return i.e(1).then(i.bind(null,"KTAJ"))},meta:{keepAlive:!0}},{path:"/detail/:id",name:"Detail",component:function(){return i.e(0).then(i.bind(null,"G9XZ"))}}],scrollBehavior:function(t,e,i){return i||{x:0,y:0}}}),E={},V={},P={},X={},Y=i("bOdI"),J=i.n(Y),Q=i("pFYg"),W=i.n(Q);var Z={getLocalstorage:function(t){try{return window.localStorage.getItem(t)}catch(t){console.error(t)}},setLocalstorage:function(t,e){var i=e;return"object"===(void 0===i?"undefined":W()(i))&&(i=m()(e)),window.localStorage.setItem(t,i),i}},G=i("2YS7"),K={state:{currentCity:Z.getLocalstorage("currentyCity")||"北京"},getters:{currentCity:function(t){return t.currentCity}},mutations:J()({},G.a,function(t,e){t.currentCity=e}),actions:J()({},G.b,function(t,e){t.commit(G.a,e),Z.setLocalstorage("currentyCity",e)})};n.a.use(h.a);var tt=new h.a.Store({state:E,getters:V,mutations:P,actions:X,modules:{city:K}}),et=i("F3EI"),it=i.n(et);i("sVYa"),i("9n10"),i("M6Sr"),i("xtMQ"),i("TzC8"),i("v2ns");n.a.use(it.a),n.a.prototype.$COMMON=Z,n.a.config.productionTip=!1,new n.a({el:"#app",router:A,store:tt,components:{App:r},template:"<App/>"})},PMrq:function(t,e,i){"use strict";var n=i("//Fk"),s=i.n(n),r=i("mtWM"),a=i.n(r).a.create({timeout:3e4});a.interceptors.request.use(function(t){return t},function(t){return s.a.reject(t)}),a.interceptors.response.use(function(t){return t.data},function(t){return s.a.reject(t)}),e.a=a},TzC8:function(t,e){},XWZO:function(t,e){},Xz1o:function(t,e){},i59S:function(t,e){},ov1N:function(t,e){},pYmz:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n="undefined"!=typeof window;n&&(window.Swiper=i("gsqX"));Object,Boolean;var s="undefined"!=typeof window;s&&(window.Swiper=i("gsqX"));var r={name:"swiper",props:{options:{type:Object,default:function(){return{autoplay:3500}}},notNextTick:{type:Boolean,default:function(){return!1}}},data:function(){return{defaultSwiperClasses:{wrapperClass:"swiper-wrapper"}}},ready:function(){!this.swiper&&s&&(this.swiper=new Swiper(this.$el,this.options))},mounted:function(){var t=this,e=function(){if(!t.swiper&&s){delete t.options.notNextTick;var e=!1;for(var i in t.defaultSwiperClasses)t.defaultSwiperClasses.hasOwnProperty(i)&&t.options[i]&&(e=!0,t.defaultSwiperClasses[i]=t.options[i]);var n=function(){t.swiper=new Swiper(t.$el,t.options)};e?t.$nextTick(n):n()}}(this.options.notNextTick||this.notNextTick)?e():this.$nextTick(e)},updated:function(){this.swiper&&this.swiper.update()},beforeDestroy:function(){this.swiper&&(this.swiper.destroy(),delete this.swiper)}},a={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"swiper-container"},[t._t("parallax-bg"),t._v(" "),i("div",{class:t.defaultSwiperClasses.wrapperClass},[t._t("default")],2),t._v(" "),t._t("pagination"),t._v(" "),t._t("button-prev"),t._v(" "),t._t("button-next"),t._v(" "),t._t("scrollbar")],2)},staticRenderFns:[]},o=i("VU/8")(r,a,!1,null,null,null);e.default=o.exports},q2gc:function(t,e){},qKQD:function(t,e){},v2ns:function(t,e){},xtMQ:function(t,e){},zZ8H:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.e9b8820a6466328c9a58.js.map